# 사용자 시나리오 (Scenarios)

이 문서는 CMS의 주요 사용 시나리오를 정의한다. 개발 시 사용자 관점에서 기능이 어떻게 동작해야 하는지 참고한다.

---

## 1. 초기 설정 시나리오

### 1.1 CMS 최초 설치 후 설정

**사용자**: 슈퍼관리자

```
1. 시스템 설정 → 사이트 기본 정보 입력
   - 사이트 이름, 로고, 파비콘 설정
   - 기본 언어, 타임존 설정

2. 관리자 관리 → 역할/권한 설정
   - 필요한 역할 생성 (편집자, 디자이너 등)
   - 각 역할에 권한 할당

3. 관리자 관리 → 관리자 추가
   - 팀원 계정 생성
   - 역할 할당
```

---

## 2. 콘텐츠 관리 시나리오

### 2.1 새 게시판 만들기

**사용자**: 관리자 (콘텐츠 타입 정의 권한)

```
1. 콘텐츠 관리 → 콘텐츠 타입 정의 → 새 타입 생성
   - 타입명: "공지사항"
   - 슬러그: "notice"

2. 필드 추가
   - 제목 (텍스트, 필수)
   - 내용 (리치 텍스트, 필수)
   - 첨부파일 (파일, 선택)
   - 중요공지 여부 (불리언)

3. 페이지 관리 → 동적 페이지 → 새 페이지 생성
   - 페이지 타입: 게시판
   - 연결 콘텐츠 타입: "공지사항"
   - URL: /notice

4. 공통 레이아웃 → 네비게이션에 메뉴 추가
   - 메뉴명: "공지사항"
   - 링크: /notice

5. 발행
```

### 2.2 게시글 작성하기

**사용자**: 편집자

```
1. 콘텐츠 관리 → 콘텐츠 목록 → "공지사항" 선택

2. 새 콘텐츠 작성
   - 제목 입력
   - 내용 작성 (에디터)
   - 첨부파일 업로드

3. 저장 (초안) 또는 발행
   - 워크플로우 활성화 시: 검토 요청
   - 워크플로우 비활성화 시: 즉시 발행
```

### 2.3 콘텐츠 승인 (워크플로우)

**사용자**: 승인자

```
1. 알림 센터에서 "검토 요청" 알림 확인
   또는
   워크플로우 → 대기 중인 승인 목록 확인

2. 콘텐츠 상세 페이지로 이동

3. 미리보기로 내용 확인

4. 승인 또는 반려
   - 승인: 콘텐츠 발행됨
   - 반려: 사유 입력 → 편집자에게 알림
```

### 2.4 콘텐츠 예약 발행

**사용자**: 편집자

```
1. 콘텐츠 작성 완료

2. 발행 옵션에서 "예약 발행" 선택
   - 발행 시작일: 2026-01-15 09:00
   - 발행 종료일: 2026-01-31 18:00 (선택)

3. 저장

4. 지정 시간에 자동 발행/종료
```

---

## 3. 페이지 관리 시나리오

### 3.1 메인페이지 구성하기

**사용자**: 관리자 (페이지 관리 권한)

```
1. 페이지 관리 → 메인페이지

2. 페이지 빌더 열기
   - 드래그앤드롭으로 컴포넌트 배치

3. 섹션 구성 예시
   ┌─────────────────────────────┐
   │      히어로 배너 (슬라이더)     │
   ├─────────────────────────────┤
   │  최신 공지  │  인기 상품 목록   │
   ├─────────────────────────────┤
   │         회사 소개 섹션         │
   └─────────────────────────────┘

4. 각 컴포넌트 설정
   - 히어로 배너: 이미지, 텍스트, 링크
   - 최신 공지: 콘텐츠 타입 연결, 표시 개수
   - 인기 상품: 콘텐츠 타입 연결, 정렬 기준

5. 미리보기 (PC/태블릿/모바일)

6. 발행
```

### 3.2 회사소개 페이지 만들기

**사용자**: 관리자

```
1. 페이지 관리 → 일반 페이지 → 새 페이지 생성

2. 페이지 정보 입력
   - 제목: "회사 소개"
   - URL 슬러그: /about

3. 페이지 빌더로 구성
   - 제목 컴포넌트
   - 이미지 컴포넌트 (회사 사진)
   - 텍스트 컴포넌트 (회사 소개)
   - 지도 컴포넌트 (위치)

4. SEO 설정
   - 메타 제목, 설명
   - OG 이미지

5. 발행
```

### 3.3 공통 레이아웃 설정

**사용자**: 관리자

```
1. 페이지 관리 → 공통 레이아웃 → 헤더

2. 헤더 구성
   ┌─────────────────────────────────────┐
   │ [로고]  [메뉴1] [메뉴2] [검색] [로그인] │
   └─────────────────────────────────────┘

3. 네비게이션 메뉴 설정
   - 메뉴 항목 추가/삭제/순서 변경
   - 드롭다운 메뉴 설정

4. 푸터 구성
   ┌─────────────────────────────────────┐
   │ 회사정보 │ 링크모음 │ SNS │ 저작권    │
   └─────────────────────────────────────┘

5. 저장 → 전체 페이지에 적용
```

---

## 4. 회원 관리 시나리오

### 4.1 회원가입 플로우 (Public Site)

**사용자**: 방문자

```
1. Public Site → 회원가입 페이지

2. 정보 입력
   - 이메일, 비밀번호, 이름 등

3. 이메일 인증 (설정된 경우)
   - 인증 메일 발송
   - 링크 클릭하여 인증 완료

4. 회원가입 완료 → 자동 로그인
```

### 4.2 회원 관리 (Admin Panel)

**사용자**: 관리자

```
1. 회원 관리 → 회원 목록

2. 회원 검색/필터
   - 이름, 이메일, 가입일, 상태 등

3. 회원 상세 조회
   - 기본 정보
   - 활동 내역
   - 작성 콘텐츠

4. 회원 상태 변경
   - 활성 / 비활성 / 차단
```

---

## 5. 미디어 관리 시나리오

### 5.1 이미지 업로드 및 사용

**사용자**: 편집자

```
1. 미디어 관리 → 업로드
   - 파일 선택 또는 드래그앤드롭

2. 자동 처리
   - 이미지 최적화 (리사이즈, WebP 변환)
   - 썸네일 생성

3. 폴더 정리
   - 폴더 생성/이동

4. 콘텐츠에서 사용
   - 이미지 필드에서 미디어 라이브러리 열기
   - 원하는 이미지 선택
```

---

## 6. 알림 시나리오

### 6.1 알림 설정

**사용자**: 슈퍼관리자

```
1. 알림 센터 → 알림 설정

2. 콘텐츠 타입별 설정
   - "공지사항" 생성 시 → 슈퍼관리자에게 알림
   - "문의글" 생성 시 → 고객지원팀에게 알림

3. 알림 방식 설정
   - 관리자 패널 내 알림: ON
   - 이메일 발송: ON/OFF
```

### 6.2 알림 확인

**사용자**: 관리자

```
1. Admin Panel 상단 알림 아이콘 클릭

2. 알림 목록 확인
   - 새 콘텐츠, 승인 요청, 멘션 등

3. 알림 클릭 → 해당 콘텐츠로 이동

4. 읽음 처리 / 전체 읽음
```

---

## 7. 백업/복원 시나리오

### 7.1 수동 백업

**사용자**: 슈퍼관리자

```
1. 백업/복원 → 수동 백업 생성

2. 백업 범위 선택
   - 전체 데이터
   - 콘텐츠만
   - 미디어 포함 여부

3. 백업 생성

4. 백업 파일 다운로드 (선택)
```

### 7.2 데이터 복원

**사용자**: 슈퍼관리자

```
1. 백업/복원 → 백업 목록

2. 복원할 시점 선택

3. 복원 확인 (경고: 현재 데이터 덮어쓰기)

4. 복원 진행

5. 복원 완료 확인
```

---

## 8. API 사용 시나리오

### 8.1 외부에서 콘텐츠 조회 (Headless)

**사용자**: 외부 개발자

```
1. API 키 발급 받기

2. REST API 호출
   GET /api/contents/notice
   Headers: { "X-API-Key": "발급받은키" }

3. 응답 데이터 활용
   {
     "data": [
       { "id": 1, "title": "첫 번째 공지", ... }
     ],
     "pagination": { ... }
   }

4. GraphQL 사용 (선택)
   query {
     notices(limit: 10) {
       id
       title
       content
     }
   }
```

---

## 9. 다국어 시나리오

### 9.1 다국어 콘텐츠 작성

**사용자**: 편집자

```
1. 콘텐츠 작성 시 언어 선택
   - 기본 언어 (한국어)로 작성

2. 다른 언어 버전 추가
   - "영어 버전 추가" 클릭
   - 번역된 내용 입력

3. 언어별 발행 상태 관리
   - 한국어: 발행됨
   - 영어: 초안
```

---

## 10. 검색 시나리오

### 10.1 Public Site 검색

**사용자**: 방문자

```
1. 헤더 검색창에 키워드 입력

2. 검색 결과 페이지로 이동
   - 콘텐츠 타입별 결과 표시
   - 검색어 하이라이트

3. 필터 적용 (선택)
   - 콘텐츠 타입, 날짜 범위 등

4. 결과 클릭 → 상세 페이지로 이동
```
